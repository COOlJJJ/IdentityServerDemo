{"remainingRequest":"D:\\MyDemo\\Study\\IdentityServerDemo\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\MyDemo\\Study\\IdentityServerDemo\\frontend\\src\\Auth\\applicationusermanager.js","dependencies":[{"path":"D:\\MyDemo\\Study\\IdentityServerDemo\\frontend\\src\\Auth\\applicationusermanager.js","mtime":1650599028010},{"path":"D:\\MyDemo\\Study\\IdentityServerDemo\\frontend\\babel.config.js","mtime":1634788122719},{"path":"D:\\MyDemo\\Study\\IdentityServerDemo\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\MyDemo\\Study\\IdentityServerDemo\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L015RGVtby9TdHVkeS9JZGVudGl0eVNlcnZlckRlbW8vZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIkQ6L015RGVtby9TdHVkeS9JZGVudGl0eVNlcnZlckRlbW8vZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NsYXNzQ2FsbENoZWNrIjsKaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICJEOi9NeURlbW8vU3R1ZHkvSWRlbnRpdHlTZXJ2ZXJEZW1vL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCBfaW5oZXJpdHMgZnJvbSAiRDovTXlEZW1vL1N0dWR5L0lkZW50aXR5U2VydmVyRGVtby9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vaW5oZXJpdHMiOwppbXBvcnQgX2NyZWF0ZVN1cGVyIGZyb20gIkQ6L015RGVtby9TdHVkeS9JZGVudGl0eVNlcnZlckRlbW8vZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZVN1cGVyIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgeyBVc2VyTWFuYWdlciB9IGZyb20gJ29pZGMtY2xpZW50JzsKCnZhciBBcHBsaWNhdGlvblVzZXJNYW5hZ2VyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfVXNlck1hbmFnZXIpIHsKICBfaW5oZXJpdHMoQXBwbGljYXRpb25Vc2VyTWFuYWdlciwgX1VzZXJNYW5hZ2VyKTsKCiAgdmFyIF9zdXBlciA9IF9jcmVhdGVTdXBlcihBcHBsaWNhdGlvblVzZXJNYW5hZ2VyKTsKCiAgZnVuY3Rpb24gQXBwbGljYXRpb25Vc2VyTWFuYWdlcigpIHsKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBcHBsaWNhdGlvblVzZXJNYW5hZ2VyKTsKCiAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgewogICAgICBhdXRob3JpdHk6ICdodHRwOi8vbG9jYWxob3N0OjUwMDInLAogICAgICAvLyDmjojmnYPmnI3liqHkuK3lv4PlnLDlnYAKICAgICAgY2xpZW50X2lkOiAnY29kZV9jbGllbnQnLAogICAgICAvLyDlrqLmiLfnq68gaWQKICAgICAgcmVkaXJlY3RfdXJpOiAnaHR0cDovL2xvY2FsaG9zdDo4MDgwL2NhbGxiYWNrJywKICAgICAgLy8g55m75b2V5Zue6LCD5Zyw5Z2ACiAgICAgIHJlc3BvbnNlX3R5cGU6ICdpZF90b2tlbiB0b2tlbicsCiAgICAgIHNjb3BlOiAnY29kZV9zY29wZTEnLAogICAgICAvLyDkvZznlKjln5/kuZ/opoHkuIDkuIDljLnphY0KICAgICAgcG9zdF9sb2dvdXRfcmVkaXJlY3RfdXJpOiAnaHR0cDovL2xvY2FsaG9zdDo4MDgwL3NpZ25vdXQtY2FsbGJhY2stb2lkYycgLy/nmbvlh7rlkI7lm57osIPlnLDlnYAKCiAgICB9KTsKICB9CgogIF9jcmVhdGVDbGFzcyhBcHBsaWNhdGlvblVzZXJNYW5hZ2VyLCBbewogICAga2V5OiAibG9naW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9sb2dpbiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNpZ25pblJlZGlyZWN0KCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBsb2dpbigpIHsKICAgICAgICByZXR1cm4gX2xvZ2luLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBsb2dpbjsKICAgIH0oKQogIH0sIHsKICAgIGtleTogImxvZ291dCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2xvZ291dCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCB0aGlzLnNpZ25vdXRSZWRpcmVjdCgpKTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCB0aGlzKTsKICAgICAgfSkpOwoKICAgICAgZnVuY3Rpb24gbG9nb3V0KCkgewogICAgICAgIHJldHVybiBfbG9nb3V0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBsb2dvdXQ7CiAgICB9KCkKICB9XSk7CgogIHJldHVybiBBcHBsaWNhdGlvblVzZXJNYW5hZ2VyOwp9KFVzZXJNYW5hZ2VyKTs="},{"version":3,"sources":["D:/MyDemo/Study/IdentityServerDemo/frontend/src/Auth/applicationusermanager.js"],"names":["UserManager","ApplicationUserManager","authority","client_id","redirect_uri","response_type","scope","post_logout_redirect_uri","signinRedirect","signoutRedirect"],"mappings":";;;;;;AAAA,SAASA,WAAT,QAA4B,aAA5B;;IAEMC,sB;;;;;AACJ,oCAAe;AAAA;;AAAA,6BACP;AACJC,MAAAA,SAAS,EAAE,uBADP;AAC+B;AACnCC,MAAAA,SAAS,EAAE,aAFP;AAEqB;AACzBC,MAAAA,YAAY,EAAE,gCAHV;AAG2C;AAC/CC,MAAAA,aAAa,EAAE,gBAJX;AAKJC,MAAAA,KAAK,EAAE,aALH;AAKiB;AACrBC,MAAAA,wBAAwB,EAAE,6CANtB,CAMoE;;AANpE,KADO;AASd;;;;;2EAED;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACQ,KAAKC,cAAL,EADR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;4EAKA;AAAA;AAAA;AAAA;AAAA;AAAA,kDACS,KAAKC,eAAL,EADT;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,O;;;;;;;;;;;EAjBmCT,W","sourcesContent":["import { UserManager } from 'oidc-client'\r\n\r\nclass ApplicationUserManager extends UserManager {\r\n  constructor () {\r\n    super({\r\n      authority: 'http://localhost:5002',// 授权服务中心地址\r\n      client_id: 'code_client',// 客户端 id\r\n      redirect_uri: 'http://localhost:8080/callback',// 登录回调地址\r\n      response_type: 'id_token token',\r\n      scope: 'code_scope1',// 作用域也要一一匹配\r\n      post_logout_redirect_uri: 'http://localhost:8080/signout-callback-oidc' //登出后回调地址\r\n    })\r\n  }\r\n\r\n  async login () {\r\n    await this.signinRedirect()\r\n    // return this.getUser()\r\n  }\r\n\r\n  async logout () {\r\n    return this.signoutRedirect()\r\n  }\r\n}"]}]}