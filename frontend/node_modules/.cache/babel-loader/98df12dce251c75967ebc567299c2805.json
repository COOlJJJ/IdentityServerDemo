{"remainingRequest":"D:\\MyDemo\\Study\\IdentityServerDemo\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\MyDemo\\Study\\IdentityServerDemo\\frontend\\src\\main.js","dependencies":[{"path":"D:\\MyDemo\\Study\\IdentityServerDemo\\frontend\\src\\main.js","mtime":1650636529849},{"path":"D:\\MyDemo\\Study\\IdentityServerDemo\\frontend\\babel.config.js","mtime":1634788122719},{"path":"D:\\MyDemo\\Study\\IdentityServerDemo\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\MyDemo\\Study\\IdentityServerDemo\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L015RGVtby9TdHVkeS9JZGVudGl0eVNlcnZlckRlbW8vZnJvbnRlbmQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgIkQ6XFxNeURlbW9cXFN0dWR5XFxJZGVudGl0eVNlcnZlckRlbW9cXGZyb250ZW5kXFxub2RlX21vZHVsZXNcXGNvcmUtanNcXG1vZHVsZXNcXGVzLmFycmF5Lml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJEOlxcTXlEZW1vXFxTdHVkeVxcSWRlbnRpdHlTZXJ2ZXJEZW1vXFxmcm9udGVuZFxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5wcm9taXNlLmpzIjsKaW1wb3J0ICJEOlxcTXlEZW1vXFxTdHVkeVxcSWRlbnRpdHlTZXJ2ZXJEZW1vXFxmcm9udGVuZFxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5vYmplY3QuYXNzaWduLmpzIjsKaW1wb3J0ICJEOlxcTXlEZW1vXFxTdHVkeVxcSWRlbnRpdHlTZXJ2ZXJEZW1vXFxmcm9udGVuZFxcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5wcm9taXNlLmZpbmFsbHkuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBBcHAgZnJvbSAnLi9BcHAudnVlJzsKaW1wb3J0IHJvdXRlciBmcm9tICcuL3JvdXRlcic7CmltcG9ydCBzdG9yZSBmcm9tICcuL3N0b3JlJzsKaW1wb3J0IHVzZXJNYW5hZ2VyIGZyb20gJy4uL3NyYy9BdXRoL1NTTy5qcyc7ClZ1ZS5jb25maWcucHJvZHVjdGlvblRpcCA9IGZhbHNlOwpWdWUucHJvdG90eXBlLiR1c2VyTWFuYWdlciA9IHVzZXJNYW5hZ2VyOwpkb2N1bWVudC50aXRsZSA9ICJTU08gQ2xpZW50MSI7CnJvdXRlci5iZWZvcmVFYWNoKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHRvLCBmcm9tLCBuZXh0KSB7CiAgICB2YXIgdXNlcjsKICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICB3aGlsZSAoMSkgewogICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgaWYgKCEodG8ubmFtZSA9PT0gJ2NhbGxiYWNrJykpIHsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgaWYgKCEodG8ubmFtZSA9PT0gJ3NpZ25vdXQtY2FsbGJhY2stb2lkYycpKSB7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdsb2cgb3V0Li4uLicpOwogICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICByZXR1cm4gdXNlck1hbmFnZXIuZ2V0VXNlcigpOwoKICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIHVzZXIgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICBjb25zb2xlLmxvZyh1c2VyKTsKCiAgICAgICAgICAgIGlmICh1c2VyKSB7CiAgICAgICAgICAgICAgbmV4dCgpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHVzZXJNYW5hZ2VyLnNpZ25pblJlZGlyZWN0KCkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgIH0KICAgICAgfQogICAgfSwgX2NhbGxlZSk7CiAgfSkpOwoKICByZXR1cm4gZnVuY3Rpb24gKF94LCBfeDIsIF94MykgewogICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9Owp9KCkpOwpuZXcgVnVlKHsKICByb3V0ZXI6IHJvdXRlciwKICBzdG9yZTogc3RvcmUsCiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkgewogICAgcmV0dXJuIGgoQXBwKTsKICB9Cn0pLiRtb3VudCgnI2FwcCcpOw=="},{"version":3,"sources":["D:/MyDemo/Study/IdentityServerDemo/frontend/src/main.js"],"names":["Vue","App","router","store","userManager","config","productionTip","prototype","$userManager","document","title","beforeEach","to","from","next","name","console","log","getUser","user","signinRedirect","catch","error","render","h","$mount"],"mappings":";;;;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AAEA,OAAOC,WAAP,MAAwB,oBAAxB;AAEAJ,GAAG,CAACK,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;AAEAN,GAAG,CAACO,SAAJ,CAAcC,YAAd,GAA6BJ,WAA7B;AAEAK,QAAQ,CAACC,KAAT,GAAiB,aAAjB;AAEAR,MAAM,CAACS,UAAP;AAAA,qEAAkB,iBAAOC,EAAP,EAAWC,IAAX,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACZF,EAAE,CAACG,IAAH,KAAY,UADA;AAAA;AAAA;AAAA;;AAEdD,YAAAA,IAAI;AAFU;AAAA;;AAAA;AAAA,kBAGLF,EAAE,CAACG,IAAH,KAAY,uBAHP;AAAA;AAAA;AAAA;;AAIdC,YAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AAJc;AAAA;;AAAA;AAAA;AAAA,mBAMKb,WAAW,CAACc,OAAZ,EANL;;AAAA;AAMRC,YAAAA,IANQ;AAOdH,YAAAA,OAAO,CAACC,GAAR,CAAYE,IAAZ;;AACA,gBAAIA,IAAJ,EAAU;AACRL,cAAAA,IAAI;AACL,aAFD,MAGK;AACHV,cAAAA,WAAW,CAACgB,cAAZ,GAA6BC,KAA7B,CAAmC,UAAAC,KAAK,EAAI;AAC1CN,gBAAAA,OAAO,CAACM,KAAR,CAAcA,KAAd;AACD,eAFD;AAGD;;AAfa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAAA;AAAA;AAAA;AAAA;AAoBA,IAAItB,GAAJ,CAAQ;AACNE,EAAAA,MAAM,EAANA,MADM;AAENC,EAAAA,KAAK,EAALA,KAFM;AAGNoB,EAAAA,MAAM,EAAE,gBAAAC,CAAC;AAAA,WAAIA,CAAC,CAACvB,GAAD,CAAL;AAAA;AAHH,CAAR,EAIGwB,MAJH,CAIU,MAJV","sourcesContent":["import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\n\r\nimport userManager from '../src/Auth/SSO.js'\r\n\r\nVue.config.productionTip = false\r\n\r\nVue.prototype.$userManager = userManager\r\n\r\ndocument.title = \"SSO Client1\"\r\n\r\nrouter.beforeEach(async (to, from, next) => {\r\n  if (to.name === 'callback') {\r\n    next()\r\n  } else if (to.name === 'signout-callback-oidc') {\r\n    console.log('log out....')\r\n  } else {\r\n    const user = await userManager.getUser();\r\n    console.log(user);\r\n    if (user) {\r\n      next()\r\n    }\r\n    else {\r\n      userManager.signinRedirect().catch(error => {\r\n        console.error(error)\r\n      })\r\n    }\r\n\r\n  }\r\n})\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n"]}]}