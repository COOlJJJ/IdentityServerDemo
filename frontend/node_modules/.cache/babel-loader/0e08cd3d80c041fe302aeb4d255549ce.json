{"remainingRequest":"D:\\MyDemo\\Study\\IdentityServerDemo\\frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\MyDemo\\Study\\IdentityServerDemo\\frontend\\src\\Auth\\SSO.js","dependencies":[{"path":"D:\\MyDemo\\Study\\IdentityServerDemo\\frontend\\src\\Auth\\SSO.js","mtime":1650638938919},{"path":"D:\\MyDemo\\Study\\IdentityServerDemo\\frontend\\babel.config.js","mtime":1634788122719},{"path":"D:\\MyDemo\\Study\\IdentityServerDemo\\frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\MyDemo\\Study\\IdentityServerDemo\\frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IE9pZGMgZnJvbSAnb2lkYy1jbGllbnQnOwp2YXIgaG9zdCA9IGxvY2F0aW9uLm9yaWdpbjsgLy/mjojmnYPorqTor4HmnI3liqHlmagKCnZhciBhdXRoc1NlcnZlciA9ICdodHRwOi8vbG9jYWxob3N0OjUwMDInOwp2YXIgdXNlck1hbmFnZXIgPSBuZXcgT2lkYy5Vc2VyTWFuYWdlcih7CiAgYXV0aG9yaXR5OiBhdXRoc1NlcnZlciwKICAvLyBzZXJ2ZXIg5Zyw5Z2ACiAgY2xpZW50X2lkOiAndnVlIGNsaWVudCcsCiAgLy8gY2xpZW50IGlkCiAgY2xpZW50X3NlY3JldDogJzUxMTUzNkVGLUYyNzAtNDA1OC04MENBLTFDODlDMTkyRjY5QScsCiAgLy/lr4bpkqUKICBwb3N0X2xvZ291dF9yZWRpcmVjdF91cmk6ICIiLmNvbmNhdChob3N0LCAiL3NpZ25vdXQtY2FsbGJhY2stb2lkYyIpLAogIC8vIOmAgOWHuueZu+W9lQogIHJlZGlyZWN0X3VyaTogIiIuY29uY2F0KGhvc3QsICIvY2FsbGJhY2siKSwKICBzaWxlbnRfcmVkaXJlY3RfdXJpOiAiIi5jb25jYXQoaG9zdCwgIi9jYWxsYmFjayIpLAogIGFjY2Vzc1Rva2VuRXhwaXJpbmdOb3RpZmljYXRpb25UaW1lOiA0LAogIC8vIOi2heaXtgogIHNpbGVudFJlcXVlc3RUaW1lb3V0OiAyMDAwLAogIC8vIAogIC8v566A5YyW5qih5byP4oCU4oCUIEltcGxpY2l0CiAgLy9yZXNwb25zZV90eXBlOiAndG9rZW4gaWRfdG9rZW4nLCAKICAvL+aOiOadg+eggeaooeW8jwogIHJlc3BvbnNlX3R5cGU6ICdjb2RlJywKICBzY29wZTogJ29wZW5pZCBwcm9maWxlIGNvZGVfc2NvcGUxJywKICBmaWx0ZXJQcm90b2NvbENsYWltczogdHJ1ZSwKICAvL+i4qeS6huS4quWdkSDlr7nov4fmnJ/ku6TniYzmoKHpqowg6buY6K6k5Li6dHJ1ZSAg5pS55Li6ZmFsc2XmiY3kuI3moKHpqowg5ZCm5YiZ5LiA55u055m76ZmGIOWkp+WdkX5+77yB77yB77yB77yB77yBCiAgbW9uaXRvclNlc3Npb246IGZhbHNlCn0pOwp1c2VyTWFuYWdlci5ldmVudHMuYWRkVXNlclNpZ25lZE91dChmdW5jdGlvbiAoKSB7CiAgdXNlck1hbmFnZXIucmVtb3ZlVXNlcigpLnRoZW4oZnVuY3Rpb24gKCkgewogICAgdXNlck1hbmFnZXIuc2lnbmluUmVkaXJlY3QoKS5jYXRjaChmdW5jdGlvbiAoKSB7CiAgICAgIGNvbnNvbGUuZXJyb3IoJ2Vycm9yIHdpaGlsZSBsb2dvdXQnKTsKICAgIH0pOwogIH0pOwp9KTsKZXhwb3J0IGRlZmF1bHQgdXNlck1hbmFnZXI7"},{"version":3,"sources":["D:/MyDemo/Study/IdentityServerDemo/frontend/src/Auth/SSO.js"],"names":["Oidc","host","location","origin","authsServer","userManager","UserManager","authority","client_id","client_secret","post_logout_redirect_uri","redirect_uri","silent_redirect_uri","accessTokenExpiringNotificationTime","silentRequestTimeout","response_type","scope","filterProtocolClaims","monitorSession","events","addUserSignedOut","removeUser","then","signinRedirect","catch","console","error"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,aAAjB;AAEA,IAAMC,IAAI,GAAGC,QAAQ,CAACC,MAAtB,C,CAEA;;AACA,IAAMC,WAAW,GAAG,uBAApB;AAEA,IAAMC,WAAW,GAAG,IAAIL,IAAI,CAACM,WAAT,CAAqB;AACrCC,EAAAA,SAAS,EAAEH,WAD0B;AACZ;AACzBI,EAAAA,SAAS,EAAE,YAF0B;AAEX;AAC1BC,EAAAA,aAAa,EAAE,sCAHsB;AAGiB;AACtDC,EAAAA,wBAAwB,YAAKT,IAAL,2BAJa;AAIsB;AAC3DU,EAAAA,YAAY,YAAKV,IAAL,cALyB;AAMrCW,EAAAA,mBAAmB,YAAKX,IAAL,cANkB;AAOrCY,EAAAA,mCAAmC,EAAE,CAPA;AAOI;AACzCC,EAAAA,oBAAoB,EAAE,IARe;AAQR;AAC7B;AACA;AACA;AACAC,EAAAA,aAAa,EAAE,MAZsB;AAarCC,EAAAA,KAAK,EAAE,4BAb8B;AAcrCC,EAAAA,oBAAoB,EAAE,IAde;AAerC;AACAC,EAAAA,cAAc,EAAE;AAhBqB,CAArB,CAApB;AAmBAb,WAAW,CAACc,MAAZ,CAAmBC,gBAAnB,CAAoC,YAAM;AACtCf,EAAAA,WAAW,CAACgB,UAAZ,GAAyBC,IAAzB,CAA8B,YAAM;AAChCjB,IAAAA,WAAW,CAACkB,cAAZ,GAA6BC,KAA7B,CAAmC,YAAM;AACrCC,MAAAA,OAAO,CAACC,KAAR,CAAc,qBAAd;AACH,KAFD;AAGH,GAJD;AAMH,CAPD;AASA,eAAerB,WAAf","sourcesContent":["import Oidc from 'oidc-client'\r\n\r\nconst host = location.origin\r\n\r\n//授权认证服务器\r\nconst authsServer = 'http://localhost:5002'\r\n\r\nconst userManager = new Oidc.UserManager({\r\n    authority: authsServer,  // server 地址\r\n    client_id: 'vue client',  // client id\r\n    client_secret: '511536EF-F270-4058-80CA-1C89C192F69A',//密钥\r\n    post_logout_redirect_uri: `${host}/signout-callback-oidc`, // 退出登录\r\n    redirect_uri: `${host}/callback`,\r\n    silent_redirect_uri: `${host}/callback`,\r\n    accessTokenExpiringNotificationTime: 4,  // 超时\r\n    silentRequestTimeout: 2000,  // \r\n    //简化模式—— Implicit\r\n    //response_type: 'token id_token', \r\n    //授权码模式\r\n    response_type: 'code',\r\n    scope: 'openid profile code_scope1',\r\n    filterProtocolClaims: true,\r\n    //踩了个坑 对过期令牌校验 默认为true  改为false才不校验 否则一直登陆 大坑~~！！！！！\r\n    monitorSession: false\r\n})\r\n\r\nuserManager.events.addUserSignedOut(() => {\r\n    userManager.removeUser().then(() => {\r\n        userManager.signinRedirect().catch(() => {\r\n            console.error('error wihile logout')\r\n        })\r\n    })\r\n\r\n})\r\n\r\nexport default userManager;"]}]}